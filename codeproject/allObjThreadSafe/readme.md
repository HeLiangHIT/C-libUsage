
ref: https://www.codeproject.com/Articles/1183379/We-make-any-object-thread-safe
code : https://github.com/AlexeyAB/object_threadsafe

还未检测可用性。

safe_ptr.h contains C++ code of:

safe_ptr<> - make any your custom object thread-safe, even when passed to a function

contention_free_shared_mutex<> - 10 X times faster than std::shared_mutex

contfree_safe_ptr<> - make any your custom object thread-safe with the speed of lock-free algorithms